<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Inertia Game</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <h1>Inertia Puzzle</h1>

        <div class="top-bar"
            style="display: flex; gap: 20px; align-items: center; background: #2d2d2d; padding: 15px; border-radius: 8px; margin-bottom: 20px; flex-wrap: wrap; justify-content: center;">

            <!-- Stats -->
            <div class="info-box"
                style="display: flex; gap: 20px; font-weight: bold; background: #444; padding: 10px 20px; border-radius: 5px;">
                <div>Gems: <span id="gemsDisplay" style="color: #4CAF50;">0</span></div>
                <div>Moves: <span id="movesDisplay" style="color: #2196F3;">0</span></div>
                <div>Mines: <span id="minesDisplay" style="color: #f44336;">0</span></div>
                <div>Walls: <span id="wallsDisplay" style="color: #bbb;">0</span></div>
            </div>

            <!-- Settings -->
            <div class="settings-box" style="display:flex; gap:15px; align-items: center;">
                <div style="display:flex; align-items: center; gap: 5px;">
                    <label>Rows:</label> <input id="inRows" type="number" min="5" max="20"
                        style="width:40px; padding: 5px; border-radius: 4px; border:none;">
                </div>
                <div style="display:flex; align-items: center; gap: 5px;">
                    <label>Cols:</label> <input id="inCols" type="number" min="5" max="30"
                        style="width:40px; padding: 5px; border-radius: 4px; border:none;">
                </div>
                <div style="display:flex; align-items: center; gap: 5px;">
                    <label>Gems:</label> <input id="inGems" type="number" min="1" max="50"
                        style="width:40px; padding: 5px; border-radius: 4px; border:none;">
                </div>
                <!-- Hidden advanced settings behind a summary detail or keep simple? Let's keep them visible but compact -->
                <div style="display:flex; align-items: center; gap: 5px;">
                    <label>Mines:</label> <input id="inMines" type="number" min="0" max="50"
                        style="width:40px; padding: 5px; border-radius: 4px; border:none;">
                </div>
                <div style="display:flex; align-items: center; gap: 5px;">
                    <label>Walls:</label> <input id="inWalls" type="number" min="0" max="100"
                        style="width:40px; padding: 5px; border-radius: 4px; border:none;">
                </div>
                <button onclick="startNewGame()" style="padding: 5px 15px; background: #2196f3;">Apply & New
                    Game</button>
            </div>
        </div>

        <div class="game-layout">
            <!-- Game Board -->
            <div id="gameContainer" class="game-container">
                <!-- Grid items will be added here by JS -->
                <div id="player" class="player"></div>

                <div id="overlay" class="overlay">
                    <h2 id="msg">Game Over</h2>
                    <button onclick="undoMove()">Undo</button>
                    <button onclick="restartLevel()">Try Again</button>
                    <button onclick="startNewGame()">New Game</button>
                </div>
            </div>

            <!-- Side Panel (Actions Only) -->
            <div class="panel" style="justify-content: flex-start;">

                <h3
                    style="margin: 0 0 10px 0; color: #fff; font-size: 1.1rem; text-transform: uppercase; border-bottom: 2px solid #555; padding-bottom: 5px;">
                    Algorithm Controls</h3>

                <button onclick="solveGame()" id="solveBtn" style="background-color: #4CAF50;">BFS (Optimal)</button>
                <button onclick="solveGameDNC()" id="solveDncBtn" style="background-color: #009688;">Divide &
                    Conquer</button>
                <button onclick="solveGameDFS()" id="solveDfsBtn" style="background-color: #FF9800;">DFS (Any
                    Path)</button>
                <button onclick="solveGameSorted()" id="solveSortedBtn" style="background-color: #f44336;">Greedy
                    (Sorted)</button>

                <h3 style="margin: 15px 0 10px 0; color: #aaa; font-size: 0.9rem; text-transform: uppercase;">Manual
                    Controls</h3>
                <button onclick="restartLevel()">Restart Level</button>
                <button onclick="undoMove()">Undo Move</button>
                <button onclick="togglePause()" id="pauseBtn" disabled>Pause</button>

                <div
                    style="margin-top: auto; font-size: 0.85rem; color: #888; background: #222; padding: 10px; border-radius: 4px;">
                    <strong>How to Play:</strong><br>
                    • Use Numpad (1-9) to slide.<br>
                    • Collect all Blue Gems.<br>
                    • Avoid Red Mines.<br>
                    • Stop Plates halt movement.
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="solvers.js"></script>
</body>

</html>